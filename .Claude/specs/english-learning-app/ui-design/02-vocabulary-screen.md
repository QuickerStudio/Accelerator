# 单词学习页面设计 (VocabularyScreen)

## 设计思路

顶部为侧边栏按钮、单词标题、对话按钮、单词本按钮。中间是可以左右滑动的单词卡片，左滑动是未记住，右滑动是已经记住，双击单词卡片语音播报读单词发音，长按单词卡片是收藏到单词本中。底部的文本框分别是打开相机、文本输入框、文本上传按钮、发送/停止按钮。这个底部的文本框是用来解释单词的使用方式的。最底部是导航栏组件，包含4个按钮：单词、写作、对话、设置。

---

## 布局结构
```
┌─────────────────────────────────┐
│  顶部栏                          │
│  ☰  单词  ☎  📖                 │
├─────────────────────────────────┤
│                                 │
│      单词卡片区域 (可左右滑动)    │
│    ┌─────────────────────┐     │
│    │                     │     │
│    │    Vocabulary       │     │
│    │   /vəˈkæbjələri/    │     │
│    │                     │     │
│    │    词汇；词汇量       │     │
│    │                     │     │
│    │    例句...          │     │
│    │                     │     │
│    └─────────────────────┘     │
│                                 │
│  ← 左滑未记住    右滑已记住 →    │
│                                 │
├─────────────────────────────────┤
│  底部                   │
│  📷  [输入框: 发消息或按住说话]  │
│      ➕  ⏺                      │
├─────────────────────────────────┤
│  底部导航栏                      │
│  单词  写作  对话  设置          │
└─────────────────────────────────┘
```

---

## 设计细节

### 顶部栏
- 高度: 64.dp
- 背景: 深色 (#1E1E1E)
- 布局: 水平排列，4个按钮
- 按钮从左到右:
  1. 侧边栏按钮 (☰): 打开侧边菜单
  2. 标题 "单词": HeadlineMedium, 白色
  3. 对话按钮 (☎): 进入对话模式
  4. 单词本按钮 (📖): 查看收藏的单词
- 按钮尺寸: 48.dp × 48.dp
- 图标: 24.dp, 白色

### 单词卡片
- 尺寸: 宽度 = 屏幕宽度 - 48.dp, 高度 = 400.dp
- 圆角: CornerRadius.xlarge (24.dp)
- 背景: 深色卡片 (#2A2A2A)
- 阴影: elevation = 8.dp
- 内边距: 32.dp
- 内容布局:
  - 单词文本: HeadlineLarge (32.sp), 白色, 居中
  - 音标文本: BodyLarge (16.sp), 灰色, 居中
  - 中文释义: HeadlineMedium (24.sp), 白色, 居中
  - 例句: BodyMedium (14.sp), 灰色, 左对齐

### 卡片交互
- **左滑**: 标记为"未记住"
  - 滑动距离 > 屏幕宽度的30%触发
  - 动画: 卡片向左飞出，新卡片从右侧进入
  - 反馈: 轻微震动
- **右滑**: 标记为"已记住"
  - 滑动距离 > 屏幕宽度的30%触发
  - 动画: 卡片向右飞出，新卡片从左侧进入
  - 反馈: 轻微震动
- **双击**: 语音播报单词发音
  - TTS播放单词读音
  - 视觉反馈: 卡片轻微缩放动画
- **长按**: 收藏到单词本
  - 长按时长: 500ms
  - 反馈: 震动 + 显示"已收藏"提示
  - 图标变化: 书签图标高亮

### 滑动提示
- 位置: 卡片下方
- 文本: "← 左滑未记住    右滑已记住 →"
- 样式: BodySmall, 灰色 (#94A3B8)
- 动画: 首次进入时淡入显示，3秒后淡出

### 底部输入区域
- 高度: 56.dp
- 背景: 深色 (#1E1E1E)
- 内边距: 水平12.dp
- 布局: 水平排列
- 组件从左到右:
  1. **相机按钮** (📷)
     - 尺寸: 40.dp 圆形
     - 功能: 打开相机拍照识别单词
  2. **文本输入框**
     - 占据剩余空间
     - 圆角: 20.dp
     - 背景: 深灰 (#2A2A2A)
     - 提示文字: "发消息或按住说话..."
     - 文本: BodyMedium, 白色
     - 内边距: 水平16.dp, 垂直12.dp
  3. **上传按钮** (➕)
     - 尺寸: 40.dp 圆形
     - 功能: 上传文件/图片
  4. **发送/停止按钮** (⏺)
     - 尺寸: 40.dp 圆形
     - 默认: 发送按钮（灰色）
     - 输入时: 发送按钮（主题色）
     - 语音输入时: 停止按钮（红色）

### 底部导航栏
- 高度: 72.dp
- 背景: 深色 (#1E1E1E)
- 4个导航按钮，均匀分布
- 按钮样式:
  - 图标: 24.dp
  - 文字: LabelMedium
  - 未选中: 灰色 (#94A3B8)
  - 选中: 白色
  - 内边距: 垂直12.dp
- 导航项:
  1. 单词 (Vocabulary)
  2. 写作 (Writing)
  3. 对话 (Speaking)
  4. 设置 (Settings)

---

## 交互流程

### 学习流程
1. 用户进入单词学习页面
2. 显示当前单词卡片
3. 用户可以:
   - 双击卡片听发音
   - 长按卡片收藏
   - 左滑标记"未记住"
   - 右滑标记"已记住"
   - 在底部输入框输入问题询问单词用法
4. 滑动后自动显示下一张卡片
5. 完成所有单词后显示学习总结

### 输入框功能
- 用户可以输入问题，例如:
  - "这个单词怎么用？"
  - "给我一个例句"
  - "这个单词的同义词是什么？"
- AI会在对话界面回复解释
- 支持语音输入（按住说话）

---

## 动画规范

### 卡片滑动动画
```kotlin
// 左滑/右滑动画
val offsetX by animateFloatAsState(
    targetValue = if (swiped) screenWidth else 0f,
    animationSpec = tween(300, easing = FastOutSlowInEasing)
)

// 新卡片进入动画
val enterOffset by animateFloatAsState(
    targetValue = 0f,
    animationSpec = spring(
        dampingRatio = Spring.DampingRatioMediumBouncy,
        stiffness = Spring.StiffnessLow
    )
)
```

### 双击缩放动画
```kotlin
val scale by animateFloatAsState(
    targetValue = if (isPlaying) 1.05f else 1f,
    animationSpec = spring(
        dampingRatio = Spring.DampingRatioMediumBouncy
    )
)
```

### 长按收藏动画
```kotlin
val bookmarkScale by animateFloatAsState(
    targetValue = if (isBookmarked) 1.2f else 1f,
    animationSpec = spring(
        dampingRatio = Spring.DampingRatioHighBouncy
    )
)
```
